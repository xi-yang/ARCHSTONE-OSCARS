<html>
<head>
    <script type="text/javascript">
        dojo.connect(dijit.byId("tceQueryPane"), "onLoad",
                     oscars.TceQuery.init);
    </script>
    <script type="text/javascript">
    var tceQueryScheduleLayout = [
             {name: 'ID', field: 'id', width: "10em"},
             {name: 'From Date', field: 'startDate', width: "20em"},
             {name: 'Start Time', field: 'startTime', width: "20em"},
             {name: 'To Date', field: 'endDate', width: "20em"},
             {name: 'End Time', field: 'endTime', width: "20em"},
        ];
    </script>
</head>

<body>
<form id="tceQueryForm" dojoType="dijit.form.Form">

<p>Required inputs are bordered in green.</p>

<table width="auto">
  <tbody>
  <tr>
    <td width="15%">
      <button dojoType="dijit.form.Button" id="tceQuery">
         EXECUTE QUERY
         <script type="dojo/method" event="onClick">
            oscars.TceQuery.sendQuery();
        </script>
      </button>
    </td>
    <td>
        <input dojoType="dijit.form.CheckBox" id="flexibleBandwidth"
            name="productionType" type="checkbox" 
             onClick="oscars.TceQuery.flexibleBandwidthToggler"/>
      <label for="production">Request Flexible Bandwidth</label>
    </td>
    <td align="center">
      <!-- straight form reset doesn't reset all fields properly -->
      <button dojoType="dijit.form.Button" id="tceQueryReset">
         RESET Form
         <script type="dojo/method" event="onClick">
            oscars.TceQuery.resetFields();
        </script>
      </button>
    </td>
  </tr>
  <tr>
    <td>Source</td>
    <td class="required">
      <input type="text" name="source" id="tceSource"
             dojoType="dijit.form.ValidationTextBox"
             required="true" />
    </td>
    <td align="center">VLAN (2-4094, any)</td>
    <td class="required">
      <input type="text" dojoType="dijit.form.TextBox" name="srcVlan"
             id="tceSrcVlan" />
    </td>
  </tr>
  <tr>
    <td>Destination</td>
    <td class="required">
      <input type="text" name="destination" id="tceDestination"
             dojoType="dijit.form.ValidationTextBox" 
             required="true" />
    </td> 
    <td align="center">VLAN (2-4094, any)</td>
    <td class="required">
      <input type="text" dojoType="dijit.form.TextBox" name="destVlan"
             id="tceDestVlan" />
    </td>
  </tr>
  <tr>
    <td>Bandwidth (Mbps)</td>
    <td class="required">
      <input type="text" name="bandwidth" id="tceBandwidth"
           dojoType="dijit.form.NumberTextBox"
           constraints="{min:1,max:100000,places:0}"
           promptMessage="Enter a value between 1 and 100000"
           required="true"
           invalidMessage="Invalid bandwidth." />
     </td>
    <td align="center">Duration (Minutes)</td>
    <td class="required">
      <input type="text" name="duration" id="tceDuration"
           dojoType="dijit.form.NumberTextBox"
           constraints="{min:15,places:0}"
           promptMessage="Enter a value equal or greater than 15"
           required="true"
           invalidMessage="Invalid duration." />
     </td>
  </tr>
    <tr class="flexibleBandwidthDisplay" style="display:none">
    <td>Max. Bandwidth (Mbps)</td>
    <td>
      <input type="text" name="maxBandwidth" id="maxBandwidth"
           dojoType="dijit.form.NumberTextBox"
           constraints="{min:1,max:100000,places:0}"
           promptMessage="Enter a value between 1 and 100000"
           required="true"
           invalidMessage="Invalid bandwidth." />
     </td>
    <td align="center">Min. Bandwidth (Mbps)</td>
    <td>
      <input type="text" name="minBandwidth" id="minBandwidth"
           dojoType="dijit.form.NumberTextBox"
           constraints="{min:1,max:100000,places:0}"
           promptMessage="Enter a value between 1 and 100000"
           required="true"
           invalidMessage="Invalid bandwidth." />
     </td>
    </tr>
  <tr>
    <td width="10%">
      <button dojoType="dijit.form.Button" id="addSchedule">
         ADD Time Window
         <script type="dojo/method" event="onClick">
            oscars.TceQuery.addSchedule();
        </script>
      </button>
    </td>
    <td>Start Date/Time:
        <input dojoType="dijit.form.DateTextBox" name="startDate" id="tceStartDate" />
        End Date/Time:
        <input dojoType="dijit.form.DateTextBox" name="endDate" id="tceEndDate" />
    </td>
    <td>&nbsp;&nbsp;&nbsp;
        <input type="text" dojoType="dijit.form.TimeTextBox" name="startTime" id="tceStartTime" />
        &nbsp;&nbsp;&nbsp;
        <input type="text" dojoType="dijit.form.TimeTextBox" name="endTime" id="tceEndTime" />
    </td>
  </tr>
</tbody>
</table>
<div id="tceQueryScheduleGrid" dojoType="dojox.grid.DataGrid"
      structure="tceQueryScheduleLayout" autoWidth="true" autoHeight="true"
      elasticView="2">
</div>
</form>
<div id="tceQueryResultGrid" dojoType="dojox.grid.DataGrid"
      structure="tceQueryResultLayout" autoWidth="true" autoHeight="true"
      elasticView="2">
</div>
</body>
</html>
